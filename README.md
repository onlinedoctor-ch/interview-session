# OnlineDoctor Interview Session


## Developing using VS Code

1. Install the [remote container extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers)
2. Open the current folder in a dev container. Ex: (via CTRL+P) and select
   _`Open folder in container`_ or just click the popup on the bottom right
   corner.


## About this application

This is a very basic demo application for managing doctors. The purpose
of this demo is to have a simple enough starting point for our technical
interview while still showcasing a tech stack that is close to what
we use in production.

![Screenshot of the demo application](./docs/screenshot_doctor_list.png)

## Architecture

This application consists of a typical three-tier setup with a
database, backend and frontend. Those pieces are orchestrated
and configured via [`docker-compose (devcontainer)`](./.devcontainer/docker-compose.yml) _for the simplicity of this interview_.

![Architecture diagram of demo application](./docs/demo_app_architecture.jpg)

### Database
The PostgreSQL database has a single table for storing doctor information.

Interactive prompt: `./db_shell.sh`

### Backend
The backend is written in Python using the FastAPI framework. It connects
to the database using the SQLAlchemy ORM.

FastAPI provides an autogenerated API testing page. When running the
application you can access this page under http://localhost:5000/docs

To run the backend, run the following commands within the [./backend](./backend) directory:

```bash
./start.sh 
```

The devcontainer also has a `launch.json` file that allows you to run and debug the FastAPI backend service.

### Frontend

The frontend is written in TypeScript using React, and is bundled using
Parcel. When running the application, the frontend is served under http://localhost:1234/.

To build and develop the frontend run the npm script `dev` inside the [./frontend](./frontend) directory:

```bash
npm run dev
```

The web app is available under http://localhost:1234

#### ðŸ›  If parcel Hangs on `npm run dev` (Apple Silicon)

If your terminal freezes at:

```bash
> frontend@1.0.0 dev
> parcel src/index.html
````
Disable Rosetta emulation acceleration in Dockerâ€™s settings, this should prevent Parcel from freezing during startup.

