# OnlineDoctor Interview Session



## About this application

This is a very basic demo application for managing doctors. The purpose
of this demo is to have a simple enough starting point for our coding
interviews while still showcasing a tech stack that is close to what
we use in our actual applications. 

![Screenshot of the demo application](./docs/screenshot_doctor_list.png)

## Architecture

This application consists of a typical three tier setup with a
database, backend and frontend. Those pieces are orchestrated
using docker compose and configured in `docker-compose.yml`.

![Architecture diagram of demo application](./docs/demo_app_architecture.jpg)

### Database
The postgres database has a single table for storing doctor information. 

### Backend
The backend is written in python using the FastAPI framework. It connects
to the database using the SQLAlchemy ORM.

FastAPI provides a autogenerated API testing page. When running the application
you can access this page under http://localhost:5001/docs

### Frontend
The frontend is written in TypeScript using React. It is built using the
parcel bundler. When running the application, the frontend is served under http://localhost:1234/.


## Running the application
To run the application, execute the following command in the root directory:

```
make run
```

This will start database, backend and frontend in development mode. The source
code is mounted into the running containers. That also means the applications will
automatically rebuild when code changes.

## Developing using VSCode

For your convenience we provide devcontainer configs for both
backend and frontend. First install the [remote container extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers). To use the configs, open two VSCode windows.
In each of window click the remote container extension (bottom left of the window) and select "Open folder in container".
In one of the windows select the `backend` folder while in the other select the `frontend` folder.

The windows should be color coded. The backend window shows green icons in the sidebar, while the frontend shows pink icons.

### Backend

The backend devcontainer has a `launch.json` file that allows you to run and debug the FastAPI backend service. The 
database client extension is preconfigured to easily view the database in VSCode.


### Frontend

To build and develop the frontend run the npm script `dev` inside the Docker container:
```
npm run dev
```

The web app is available under http://localhost:1234
